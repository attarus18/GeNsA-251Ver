<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generatore di Citazioni Ispiratrici</title>
    <!-- Carica Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117;
            min-height: 100vh;
            padding: 0;
            color: #ffffff;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .quote-card {
            background-color: #161b22;
            border: 1px solid #30363d;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            width: 100vw;
            min-height: 100vh;
            max-width: 100vw;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 6vw;
            box-sizing: border-box;
        }
        @media (min-width: 640px) {
            .quote-card {
                max-width: 470px;
                min-height: auto;
                width: 95%;
                margin: auto;
                padding: 2.5rem;
                border-radius: 1rem; /* Aggiunto rounded corner */
            }
        }
        .generate-btn {
            background: linear-gradient(90deg, #4c51bf, #6b46c1);
            transition: all 0.3s ease;
            transform: scale(1);
            font-size: 1.18rem;
        }
        .generate-btn:hover {
            box-shadow: 0 4px 15px rgba(107, 70, 193, 0.6);
            transform: scale(1.03);
        }
        .copy-btn {
            transition: background-color 0.2s, color 0.2s;
        }
        .copy-btn:hover:not(:disabled) { /* Aggiunto :not(:disabled) per coerenza */
            background-color: #38a169;
            color: #fff;
        }
        .fade-in {
            opacity: 0;
            animation: fadeIn 0.5s ease-in-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        #notification {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            padding: 18px 30px;
            background-color: #38a169;
            color: white;
            border-radius: 9999px;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
            z-index: 1000;
            font-size: 1.18rem;
        }
    </style>
</head>
<body>

<div id="app" class="quote-card flex flex-col items-center text-center">
    <h1 class="text-3xl sm:text-4xl font-extrabold mb-8 mt-2 text-indigo-400">Generatore di Saggezza</h1>
    <div class="w-20 h-20 sm:w-16 sm:h-16 bg-gray-700 rounded-full flex items-center justify-center mb-7 mx-auto">
        <!-- Icona a stella / diamante -->
        <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-indigo-300" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 1l2.5 7.5H22l-6 4.5 2.5 7.5L12 17.5 5 20.5l2.5-7.5-6-4.5h7.5L12 1z"/>
        </svg>
    </div>
    <blockquote class="text-gray-300 italic text-[1.6rem] sm:text-2xl mb-7">
        <!-- Inizialmente vuoto, verrà riempito dallo script -->
        <span id="quote-text" class="font-light"></span>
    </blockquote>
    <p id="quote-author" class="text-lg sm:text-xl font-medium text-indigo-400 mb-8"></p>
    <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 w-full justify-center">
        <button id="generate-button" class="generate-btn text-white font-semibold py-4 px-8 rounded-full shadow-lg w-full sm:w-auto text-lg">
            Nuova Citazione
        </button>
        <button id="copy-button" class="copy-btn bg-gray-700 text-gray-300 font-semibold py-4 px-8 rounded-full shadow-lg flex items-center justify-center w-full sm:w-auto text-lg opacity-50 cursor-not-allowed" disabled>
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-2" viewBox="0 0 24 24" fill="currentColor">
                <path d="M16 1H4C2.895 1 2 1.895 2 3v14h2V3h12V1zm5 4H8C6.895 5 6 5.895 6 7v14c0 1.105.895 2 2 2h13c1.105 0 2-.895 2-2V7c0-1.105-.895-2-2-2zm0 16H8V7h13v14z"/>
            </svg>
            Copia
        </button>
    </div>
</div>

<div id="notification" class="hidden">Citazione copiata!</div>

<script>
    // 1. DATA: Array contenente tutte le citazioni
    const quotes = [
        // Citazioni originali
        { text: "Il futuro appartiene a coloro che credono nella bellezza dei propri sogni.", author: "Eleanor Roosevelt" },
        { text: "Sii il cambiamento che vuoi vedere nel mondo.", author: "Mahatma Gandhi" },
        { text: "La felicità si può trovare anche nei momenti più oscuri, se solo ci si ricorda di accendere la luce.", author: "Albus Silente (J.K. Rowling)" },
        { text: "Non aspettare. Non sarà mai il momento giusto.", author: "Napoleon Hill" },
        { text: "Fai della tua vita un sogno, e di un sogno, una realtà.", author: "Antoine de Saint-Exupéry" },
        { text: "Il modo per iniziare è smettere di parlare e iniziare a fare.", author: "Walt Disney" },
        { text: "La vita è per il 10% ciò che ti accade e per il 90% come reagisci.", author: "Charles R. Swindoll" },
        { text: "Le sfide sono ciò che rende la vita interessante e superarle è ciò che rende la vita significativa.", author: "Joshua J. Marine" },

        // Citazioni aggiunte dall'utente
        { text: "Il successo non consiste nel non commettere errori, ma nel non ripeterli due volte.", author: "George Bernard Shaw" },
        { text: "Non smettere mai di sorridere, anche quando sei triste, perché non sai chi potrebbe innamorarsi del tuo sorriso.", author: "Gabriel García Márquez" },
        { text: "Le grandi cose non sono fatte per impulso, ma da una serie di piccole cose messe insieme.", author: "Vincent Van Gogh" },
        { text: "Nessun vento è favorevole per il marinaio che non sa dove andare.", author: "Seneca" },
        { text: "Chi ha un perché per vivere può sopportare quasi ogni come.", author: "Friedrich Nietzsche" },
        { text: "La libertà non consiste nel fare ciò che si vuole, ma nel volere ciò che si deve.", author: "Immanuel Kant" },
        { text: "Le ferite che non si vedono sono le più profonde.", author: "William Shakespeare" },
        { text: "Chi non osa nulla, non spera nulla.", author: "Friedrich Schiller" },
        { text: "L’unico vero fallimento è non provarci mai.", author: "Anonimo" },
        { text: "Non si vede bene che col cuore. L’essenziale è invisibile agli occhi.", author: "Antoine de Saint-Exupéry" },
        { text: "Ogni uomo è l’architetto del proprio destino.", author: "Appio Claudio Cieco" },
        { text: "La mente è come un paracadute: funziona solo se si apre.", author: "Albert Einstein" },
        { text: "Non è la vita ad essere breve, ma noi che la rendiamo tale.", author: "Seneca" },
        { text: "La musica può cambiare il mondo perché può cambiare le persone.", author: "Bono Vox" },
        { text: "La paura è il peggior nemico dell’uomo.", author: "Anonimo" },
        { text: "Il vero amore comincia quando non ci si aspetta nulla in cambio.", author: "Antoine de Saint-Exupéry" },
        { text: "Non è la montagna che conquistiamo, ma noi stessi.", author: "Sir Edmund Hillary" },
        { text: "Ogni giorno è una nuova opportunità per cambiare la tua vita.", author: "Anonimo" },
        { text: "Il silenzio è la forma più perfetta della parola.", author: "Pitagora" },
        { text: "Chi teme di soffrire soffre già di ciò che teme.", author: "Michel de Montaigne" },
        { text: "Non è mai troppo tardi per imparare qualcosa di nuovo.", author: "Anonimo" },
        { text: "L’educazione è l’arma più potente che si possa usare per cambiare il mondo.", author: "Nelson Mandela" },
        { text: "La vera felicità costa poco; se è cara, non è di buona qualità.", author: "François-René de Chateaubriand" },
        { text: "Non ci sono scorciatoie per i luoghi che valgono la pena di essere raggiunti.", author: "Beverly Sills" },
        { text: "Chi non sa dove andare, rischia di non arrivarci mai.", author: "Anonimo" },
        { text: "La mente domina il corpo, non il contrario.", author: "Socrate" },
        { text: "L’amore non consiste nel guardarsi a vicenda, ma nel guardare insieme nella stessa direzione.", author: "Antoine de Saint-Exupéry" },
        { text: "Ogni difficoltà superata è una vittoria dell’anima.", author: "Anonimo" },
        { text: "Il modo migliore per predire il futuro è crearlo.", author: "Peter Drucker" },
        { text: "Non importa quanto vai piano, l’importante è non fermarsi.", author: "Confucio" },
        { text: "L’esperienza è semplicemente il nome che diamo ai nostri errori.", author: "Oscar Wilde" },
        { text: "Non c’è niente di più potente di un’idea il cui tempo è arrivato.", author: "Victor Hugo" },
        { text: "Ogni sogno realizzato è un sogno per cui qualcuno ha lottato.", author: "Anonimo" },
        { text: "La pace inizia con un sorriso.", author: "Madre Teresa di Calcutta" },
        { text: "Le parole gentili possono essere brevi e facili da dire, ma la loro eco è infinita.", author: "Madre Teresa di Calcutta" },
        { text: "Il talento fa vincere le partite, ma il lavoro di squadra e l’intelligenza fanno vincere i campionati.", author: "Michael Jordan" },
        { text: "L’unico modo per evitare le critiche è non fare nulla, non dire nulla e non essere nulla.", author: "Aristotele" },
        { text: "Non lasciare che la paura decida il tuo futuro.", author: "Anonimo" },
        { text: "Ogni persona che incontri sta combattendo una battaglia di cui non sai nulla. Sii gentile.", author: "Platone" },
        { text: "L’unico uomo che non sbaglia mai è quello che non fa mai nulla.", author: "Theodore Roosevelt" },
        { text: "Sii te stesso; tutti gli altri sono già occupati.", author: "Oscar Wilde" },
        { text: "Non seguire il sentiero. Vai invece dove non c’è un sentiero e lascia una traccia.", author: "Ralph Waldo Emerson" },
        { text: "Il pessimismo porta alla debolezza, l’ottimismo alla potenza.", author: "William James" },
        { text: "Il tempo che ti diverte è tempo ben speso.", author: "Bertrand Russell" },
        { text: "Il vero eroe non è colui che non cade mai, ma colui che si rialza sempre.", author: "Anonimo" },
        { text: "La conoscenza è potere.", author: "Francis Bacon" },
        { text: "Non c’è progresso senza cambiamento.", author: "Henry Ford" },
        { text: "L’immaginazione governa il mondo.", author: "Napoleone Bonaparte" },
        { text: "Un giorno senza sorriso è un giorno perso.", author: "Charlie Chaplin" },
        { text: "Chi semina amore raccoglie felicità.", author: "Anonimo" },
        { text: "Non esiste notte così lunga da impedire al sole di risorgere.", author: "Anonimo" },
        { text: "Non puoi cambiare il vento, ma puoi orientare le vele.", author: "Aristotele" },
        { text: "La bellezza salverà il mondo.", author: "Fëdor Dostoevskij" },
        { text: "L’unico limite alla nostra realizzazione di domani saranno i nostri dubbi di oggi.", author: "Franklin D. Roosevelt" },
        { text: "Non aspettare il momento perfetto, prendilo e rendilo tale.", author: "Anonimo" },
        { text: "Chi desidera vedere l’arcobaleno deve imparare ad amare la pioggia.", author: "Paulo Coelho" },
        { text: "Il valore di un uomo si misura in base a quanta verità riesce a dire.", author: "Friedrich Nietzsche" },
        { text: "L’amicizia raddoppia le gioie e divide le angosce a metà.", author: "Francesco Bacone" },
        { text: "L’amore è composto da un’unica anima che abita due corpi.", author: "Aristotele" },
        { text: "Tutti pensano a cambiare il mondo, ma nessuno pensa a cambiare se stesso.", author: "Lev Tolstoj" },
        { text: "Le persone forti non abbattono gli altri, li sollevano.", author: "Anonimo" },
        { text: "La mente crea la realtà.", author: "Buddha" },
        { text: "Dove non c’è lotta, non c’è forza.", author: "Oprah Winfrey" },
        { text: "Il mondo è pieno di cose magiche, pazientemente in attesa che i nostri sensi si affilino.", author: "W.B. Yeats" }
    ];

    // 2. LOGICA (il tuo script originale)
    const quoteTextElement = document.getElementById('quote-text');
    const quoteAuthorElement = document.getElementById('quote-author');
    const generateButton = document.getElementById('generate-button');
    const copyButton = document.getElementById('copy-button');
    const notification = document.getElementById('notification');
    let lastIndex = -1;
    let currentQuote = "";

    function displayRandomQuote() {
        // Rimuovi la classe per consentire la ri-animazione
        quoteTextElement.classList.remove('fade-in'); 

        setTimeout(() => {
            // Check di sicurezza (non più necessario ma utile)
            if (!quotes || quotes.length === 0) {
                quoteTextElement.textContent = "Errore: Dati citazioni mancanti.";
                quoteAuthorElement.textContent = "— Controlla l'array 'quotes'";
                return;
            }

            let randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * quotes.length);
            } while (randomIndex === lastIndex && quotes.length > 1);
            lastIndex = randomIndex;

            const quote = quotes[randomIndex];
            currentQuote = `${quote.text} — ${quote.author}`;
            quoteTextElement.textContent = quote.text;
            quoteAuthorElement.textContent = `— ${quote.author}`;
            
            // Abilita il pulsante e rimuovi lo stato disabilitato
            copyButton.disabled = false;
            copyButton.classList.remove('opacity-50', 'cursor-not-allowed');

            // Aggiungi la classe per l'animazione di fade-in
            quoteTextElement.classList.add('fade-in'); 
        }, 100);
    }

    function copyQuote() {
        const tempTextArea = document.createElement('textarea');
        tempTextArea.value = currentQuote;
        document.body.appendChild(tempTextArea);
        tempTextArea.select();
        try {
            // Utilizzo di document.execCommand('copy') per la compatibilità in ambiente iframe
            document.execCommand('copy'); 
            showNotification();
        } catch (err) {
            console.error('Errore nella copia: ', err);
        }
        document.body.removeChild(tempTextArea);
    }

    function showNotification() {
        notification.classList.remove('hidden');
        notification.style.opacity = '1';
        setTimeout(() => {
            notification.style.opacity = '0';
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 300);
        }, 1500);
    }

    // 3. EVENT LISTENERS
    generateButton.addEventListener('click', displayRandomQuote);
    copyButton.addEventListener('click', copyQuote);

    window.onload = function() {
        // Visualizza la prima citazione all'avvio
        displayRandomQuote();
    };
</script>
</body>
</html>
